# rcja-dance - RCJA Dance Scoring System

Can be used to digitally capture the various interview and performance scores 
generated by the competition. 

## Architecture

### Components
* Angular front end - compatible in modern browsers and tablet sized screens
* Node.js backend - Tested with Node.js 6.3.1

During the docker build process, the front-end will be passed through a grunt 
build process to optimise for distribution/production.

### Requirements
* RethinkDB > 2.3
* Docker 

## Usage

### First Run

When deployed with an empty database, the first login will create the 'Admin 
User' account using the username/password entered.

### Initial Setup

* There is an 'Admin' option in the top right corner once logged in. Within 
this section:
	* Setup Score Sheets
		* Most competitions will require both an interview and performance 
		scoresheet
		* A score sheet requires a Name and a Type
		* Once set, use the "Add" buttun in the asections area to setup 
		the criteria. Each section has a title and can have any number 
		of criteria via the "Add Criteria" button. 
			* "Criteria" column is shown in larger text
			* "Guide" column is smaller text which can be used to 
			explain how to interpret the criteria
			* "Max Score" is the highest achievable score for the criteria
	* Setup Divisions
		* Divisions are used to group teams and set out the number of rounds 
		involved.
		* A division requires a Name, Category (currently only 'Dance' is 
		available) and Interview/Performance sheets. 
		* Under the "Rounds" heading, use the "Add" button to add rounds
		to the division. For each round, assign the appropiate number
		* For each round, there is also an "Is Final" column. Tick this 
		column to denote that this round is a final round (multiple are 
		supported)
		* Names are automatically generated for the rounds.
	* Add Teams
	 	* Once the Divisions are setup, teams can be added. Each team 
	 	simply has a Name and School, along with the appropiate division.
	 * Add Users
	 	* Users can be created inside the "Users" tab
		* It is assumed that users are trusted. There is no access control in 
		place at the moment

### Using

All functionality for competition use is behind the "Dance" and "My 
Submissions" tabs

* Dance
	* All "Open" divisions (as set on the Division admin page) that contain 
	teams are shown, along with the most up to date ladder rankings
	* Use the "New Interview" and "New Performance" buttons to open a new sheet
		* The list of Teams will be filtered to the current division
		* The score sheet can not be saved until a team is selected. 
		* Use the sliders to set the score
	* Clicking the team name will show the individual score sheets for both 
	interviews and performance

* My Submissions
	* Allows the user to locate their submitted score sheets quickly

### Running

If you have Docker installed locally, just use ```make npm``` first and then 

```bash
docker-compose up
```

### Building

To build a production ready image

```bash
docker build -t <image-name> .
```

Use these commands to get the system running in Docker. If your using user 
defined networks the --link parameter should not be needed. As long as an 
alias or 'rethinkdb' otherwise resolves to the Rethink container, the app 
should link successfully.

```bash
docker run -d --name rethinkdb rethinkdb:2.3.4
docker run -d -e "ENVIRONMENT=production" --link <image-name> 
```


